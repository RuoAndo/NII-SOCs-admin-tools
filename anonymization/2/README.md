# 2

<pre>

destIPを正規化する
# python anon3.py tmp
[[  7.37173548e+08   1.00350000e+04   3.31247509e+09   3.52328717e+09
    7.80000000e+01]
     [  7.37173549e+08   0.00000000e+00   9.57484850e+07   8.53032396e+08
         8.83000000e+02]

---- Y[:,2] std ----
[[  7.37173548e+08   1.00350000e+04   1.05841647e+00   3.52328717e+09
    7.80000000e+01]
     [  7.37173549e+08   0.00000000e+00  -1.46633229e+00   8.53032396e+08
         8.83000000e+02]

【2】session ID, src Univ ID, dstIP, srcIP, bytesを抜き出す
https://github.com/RuoAndo/nii-cyber-security-admin/blob/master/detection/kmeans/palo-csv.py

# python palo-csv.py 100
737173548,10035,3312475088,3523287173,78
737173549,0,95748485,853032396,883
737173551,0,545275525,151584961,541

【2】dstIPの重複を取り除きリナンバリング
# python anon.py tmp | tee tmp2
737173548,10035,71,3523287173,78
737173549,0,13,853032396,883
737173551,0,64,151584961,541

【3】dstIPの列（第３列）を正規化
# python anon3.py tmp | tee tmp3
737173548.0,10035.0,1.05841647133,3523287173.0,78.0
737173549.0,0.0,-1.46633228574,853032396.0,883.0
737173551.0,0.0,-1.11350689036,151584961.0,541.0
737173555.0,10038.0,-0.894101758813,1863492004.0,71.0

【4】元のデータ、dstIPのリナンバリング、dstIPの正規化のデータでkemansクラスタリング

# python sklearn-kmeans2.py tmp tmp2 tmp3
[1 1 2 0 0 2 0 0 2 2 0 1 2 2 2 0 1 1 0 2 2 2 0 1 0 0 0 1 0 0 0 1 1 0 0 0 2
 0 1 1 0 0 0 0 0 0 0 1 0 1 0 0 0 0 1 2 2 1 0 0 0 2 0 1 0 0 1 1 0 2 1 0 0 2
 0 0 2 2 0 1 1 2 0 1 0 1 0 2 0 1 1 2 1 0 0 2 1 0 1]
[1 1 0 2 0 0 1 1 0 2 0 1 0 0 2 0 1 0 0 0 2 0 2 1 2 0 0 1 0 2 2 1 1 0 2 2 0
 0 1 1 0 1 2 1 2 2 0 1 0 1 0 2 2 0 1 2 2 1 1 1 1 2 0 1 2 1 1 0 2 2 1 0 1 2
 2 2 2 2 2 1 1 0 2 1 0 1 2 0 2 0 1 2 1 2 0 0 1 1 1]
[0 0 2 1 2 2 0 0 2 1 2 0 2 2 1 2 0 2 2 2 1 2 1 0 1 2 2 0 2 1 1 0 0 2 1 1 2
 2 0 0 2 0 1 0 1 1 2 0 2 0 2 1 1 2 0 1 1 0 0 0 0 1 2 0 1 0 0 2 1 1 0 2 0 1
 1 1 1 1 1 0 0 2 1 0 2 0 1 2 1 2 0 1 0 1 2 2 0 0 0]

result1 - result2:34
result1 - result3:31
result2 - result3:36

</pre>